<html>

<head>
</head>

<body>
    <button onclick="clickbtn()">CLICK</button>
    <script>

        let key;
        localStorage.setItem(key, 'sanjay choudhary 450');

        var json = '{"glossary":{"title":"example glossary","GlossDiv":{"title":"S","GlossList":{"GlossEntry":{"ID":"SGML","SortAs":"SGML","GlossTerm":"Standard Generalized Markup Language","Acronym":"SGML","Abbrev":"ISO 8879:1986","GlossDef":{"para":"A meta-markup language, used to create markup languages such as DocBook.","ID":"44","str":"SGML","GlossSeeAlso":["GML","XML"]},"GlossSee":"markup"}}}}}';

        var js = JSON.parse(json);

        let myObj = { 'name1': 'dog', 'breed': 'lebradog' };
        localStorage.setItem(key, JSON.stringify(myObj));
        let item = JSON.parse(localStorage.getItem(key));


        if (localStorage.length > 0 && window.localStorage) {
            console.log(item);
        } else {
            console.log('no item');
        }
        for (let i = 0; i < localStorage.length; i++) {
            let key = localStorage.key(i);
            let value = localStorage.getItem(key);
            console.log(key, value);
        }

        function getObjects(obj, key, val) {
            var objects = [];
            for (var i in obj) {
                if (!obj.hasOwnProperty(i)) continue;
                if (typeof obj[i] == 'object') {
                    objects = objects.concat(getObjects(obj[i], key, val));
                } else
                    //if key matches and value matches or if key matches and value is not passed (eliminating the case where key matches but passed value does not)
                    if (i == key && obj[i] == val || i == key && val == '') { //
                        objects.push(obj);
                    } else if (obj[i] == val && key == '') {
                        //only add if the object is not already in the array
                        if (objects.lastIndexOf(obj) == -1) {
                            objects.push(obj);
                        }
                    }
            }
            return objects;

        }
        localStorage.setItem(key, 'New Value');
        // localStorage.clear();
        //localStorage.removeItem(key);
        let myItem = localStorage.getItem(key);

        console.log(myItem);
        console.log(getObjects(js, 'ID', 'SGML'));
        //returns 1 object where a key names ID has the value SGML

        //example of grabbing objects that match some key in JSON
        console.log(getObjects(js, 'ID', ''));
        //returns 2 objects since keys with name ID are found in 2 objects

        //example of grabbing obejcts that match some value in JSON
        console.log(getObjects(js, '', 'SGML'));
        //returns 2 object since 2 obects have keys with the value SGML


        Object.keys(this.json).forEach(key => {
            let value = this.json[key];
            //use key and value here
        });
        console.log('//// ' + this.json[key]);


        function clickbtn() {
            var myBooks = [
                {
                    "Book ID": "1",
                    "Book Name": "Computer Architecture",
                    "Category": "Computers",
                    "Price": "125.60"
                },
                {
                    "Book ID": "2",
                    "Book Name": "Asp.Net 4 Blue Book",
                    "Category": "Programming",
                    "Price": "56.00"
                },
                {
                    "Book ID": "3",
                    "Book Name": "Popular Science",
                    "Category": "Science",
                    "Price": "210.40"
                }
            ]

            let cols = []
            for (let i = 0; i < myBooks.length; i++) {
                for (key in myBooks[i]) {
                    if (cols.indexOf(key) === -1) {
                        cols.push(key);

                    }
                }
            }

            var table = document.createElement('table');
            //table.getAttribute('id', 'table');
            tr = table.insertRow(-1);
            for (let i = 0; i < cols.length; i++) {

                var th = document.createElement('th');
                th.innerHTML = cols[i];
                tr.appendChild(th);
            }





        }


    </script>

    <body>

</html>